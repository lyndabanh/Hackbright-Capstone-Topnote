{% extends 'base.html' %}

{% block title %}{{ user.name }} - Details{% endblock %}

{% block body %}
<a href="/home">Home</a>
<div></div>
<h1>{{ user.name }}'s Cellar</h1>

<p>
  <div>Name: {{ user.name }}</div>
  <div>Email: {{ user.email }}</div>
  <div>
  {% set pw_len = user.password|length %}
  {% set hidden_pw = pw_len*'*' %}
  Password: {{ hidden_pw }}
  </div>
</p>

<h1>Wines</h1>
  <table>
    <tr>
      <th>Wine</th>
      <th>Varietal</th>
      <th>Country</th>
      <th>Rating</th>
    </tr>
    {% for rating in user.ratings %}
    <tr>
      <td><a href="/wines/{{ rating.wine.wine_id }}">{{ rating.wine.title }}</a></td>
      <td>{{ rating.wine.variety }}</td>
      <td>{{ rating.wine.country }}</td>
      <td>{{ rating.rating }}</td>
    </tr>
    {% endfor %}
  </table>
<p>
  <div>TODO: Add table of favorite wines</div>
  <div>TODO: Add comments</div>
  <div>TODO: Stats of varietals rated/favorited</div>
  <div>TODO: Stats of countries rated/favorited</div>
  <div>TODO: Add links to wine_details pages of rated wines</div>
  <div>TODO: Add similar wines (ex: query for wines from that country)</div>
</p>
{% endblock %}